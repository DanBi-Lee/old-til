---
description: 쿠키에 대해서 더 자세히!
---

# 쿠키

{% hint style="info" %}
&lt;[제로초님 블로그](https://www.zerocho.com/category/HTML&DOM/post/5918515b1ed39f00182d3048)&gt;를 참고했습니다.
{% endhint %}

쿠키는 만료 기한이 있는 키-값 저장소이다. document.cookie 하면 현재 쿠키 정보가 나옴 \(httponly 플래그로 자바스크립트에서 쓸 수 없게 막은 쿠키는 나오지 않음\)

쿠키는 매 요청마다 서버로 쿠키가 같이 전송된다. 왜냐,  쿠키는 처음부터 서버와 클라이언트 간의 지속적인 데이터 교환을 위해서만 만들어졌기 때문에 계속 전송 되는 것이다.

> HTTP 요청은 상태를 가지고 있지 않다. 브라우저에서 서버로 나에 대한 정보를 가져오라는 GET /me라는 요청을 보낼 때, 서버는 요청 자체만으로는 그 요청이 누구에게서 오는지 알 수 없다. 그래서 응답을 보 수 없다. 이 때 쿠키에 나에 대한 정보를 담아서 서버로 보내면 서버는 쿠키를 읽어서 내가 누구인지 파악한다.

하지만 서버에 필요하지 않은 데이터까지 보내기에 데이터 낭비가 발생한다.

\*\*\*

* 쿠키란?
  * 쿠키 : 클라이언트\(브라우저\) 로컬에 저장되는 키와 값이 들어있는 작은 데이터 조각
  * 사용자 인증이 유효한 시간을 명시할 수 있으며, 유효 시간이 정해지면 브라우저가 종료되어도 인증이 유지된다는 특징
  * 쿠키는 클라이언트의 상태 정보를 로컬에 저장했다가 참조
  * 클라이언트에 300개까지 쿠키저장 가능, 하나의 도메인당 20개의 값만 가질 수 있음, 하나의 쿠키값은 4KB까지 저장
  * Response Header에 Set-Cookie속성을 사용하면 클라이언트에 쿠키를 만들 수 있음
  * 쿠키는 사용자가 따로 요청하지 않아도 브라우저가 Request시에 Request Header를 넣어서 자동으로 서버에 전송
* 쿠키 사용 목적 \(주 3가지\)
  * 세션 관리 : 서버에 저장해야 할 로그인, 장바구니, 게임 스코어 등의 정보 관리
  * 개인화 : 사용자 선호, 테마 등의 세팅
  * 트래킹 : 사용자 행동을 기록하고 분석하는 용도
* 쿠키의 구성 요소
  * 이름 : 각각의 쿠키를 구별하는 데 사용되는 이름
  * 값 : 쿠키의 이름과 관련된 값
  * 유효시간 : 쿠키의 유지시간
  * 도메인 : 쿠키를 전송할 도메인
  * 경로 : 쿠키를 전송할 요청 경로
* 쿠키의 동작 방식 

  1. 클라이언트가 페이지를 요청 

  2. 서버에서 쿠키를 생성

  3. HTTP 헤더에 쿠키를 포함 시켜 응답 

  4. 브라우저가 종료되어도 쿠키 만료 기간이 있다면 클라이언트에서 보관

  5. 같은 요청을 할 경우 HTTP 헤더에 쿠키를 함께 보냄 

  6. 서버에서 쿠키를 읽어 이전 상태 정보를 변경 할 필요가 있을 때 쿠키를 업데이트 하여 변경된 쿠키를 HTTP 헤더에 포함시켜 응답

* 쿠키의 사용 예
  * 방문 사이트에서 로그인 시, "아이디와 비밀번호를 저장하시겠습니까?"
  * 쇼핑몰의 장바구니 기능
  * 자동 로그인, 팝업에서 "오늘 더 이상 이 창을 보지 않음"체크



